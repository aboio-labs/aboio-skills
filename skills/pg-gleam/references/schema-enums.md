---
title: Design Enums with Prefixed Values
impact: HIGH
impactDescription: Prevents Gleam variant name collisions, enables type-safe pattern matching
tags: enums, gleam, squirrel, schema, naming
---

## Design Enums with Prefixed Values

Postgres enum values must be globally unique when mapped to Gleam variant types via Squirrel. Use short prefixes to namespace values.

**Incorrect (unprefixed enum values):**

```sql
create type order_status as enum ('pending', 'confirmed', 'shipped');
create type payment_status as enum ('pending', 'paid', 'refunded');
-- 'pending' collides! Squirrel generates duplicate Gleam variant names
```

**Correct (prefixed enum values):**

```sql
create type order_status as enum ('os_pending', 'os_confirmed', 'os_shipped', 'os_cancelled');
create type payment_status as enum ('ps_pending', 'ps_paid', 'ps_refunded', 'ps_failed');
create type user_role as enum ('ur_admin', 'ur_manager', 'ur_member', 'ur_viewer');
```

Squirrel generates unique Gleam types:

```gleam
// Generated by Squirrel - no collisions
pub type OrderStatus {
  OsPending
  OsConfirmed
  OsShipped
  OsCancelled
}

pub type PaymentStatus {
  PsPending
  PsPaid
  PsRefunded
  PsFailed
}
```

Prefix conventions:

```
-- Use 2-3 character prefix derived from type name
-- order_status   -> os_
-- payment_status -> ps_
-- user_role      -> ur_
-- invoice_status -> is_
-- shipping_method -> sm_
```

Adding new values:

```sql
-- Postgres enums support appending (not reordering)
alter type order_status add value 'os_on_hold' after 'os_confirmed';
```

Reference: [Enumerated Types](https://www.postgresql.org/docs/current/datatype-enum.html)
